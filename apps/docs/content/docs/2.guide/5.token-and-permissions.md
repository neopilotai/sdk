---
title: Configure Token Scopes
description: Map GitHub token permissions to each preset and tool family.
path: /guide/token-permissions
links:
  - label: Control write safety
    icon: i-lucide-shield-check
    to: /guide/approval-control
    color: neutral
    variant: subtle
  - label: Browse all tools
    icon: i-lucide-list-tree
    to: /api/tools-catalog
    color: neutral
    variant: subtle
---

Every tool call hits the GitHub REST API with the token you provide. Scoping that token correctly is the first line of defense.

## Create a fine-grained token

Fine-grained personal access tokens let you restrict access per repository and per permission category. This is the recommended type for any production assistant.

1. Go to [github.com/settings/personal-access-tokens/new](https://github.com/settings/personal-access-tokens/new)
2. Select only the repositories your agent needs
3. Enable permissions based on the preset you plan to use (see matrix below)

## Map permissions to presets

| Preset | Repository access | Contents | Pull requests | Issues |
|---|---|---|---|---|
| `repo-explorer` | selected repos | `read` | — | — |
| `code-review` | selected repos | `read` | `read` (or `write` for comments) | — |
| `issue-triage` | selected repos | `read` | — | `write` |
| `maintainer` | selected repos | `write` | `write` | `write` |

## Apply least-privilege step by step

::steps{level="3"}
### Start with read-only

Enable only `contents: read` and use `preset: 'repo-explorer'`.

### Validate in staging

Run the agent against a test repository and review all tool calls before adding write scopes.

### Add writes for approved operations

Enable write permissions only for the specific families you need, and combine with [approval control](/guide/approval-control).
::

::note
Safest baseline: fine-grained token + narrow preset + `requireApproval: true`.
::

## External references

- [Fine-grained PAT permissions](https://docs.github.com/en/rest/authentication/permissions-required-for-fine-grained-personal-access-tokens)
- [Managing personal access tokens](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens)
